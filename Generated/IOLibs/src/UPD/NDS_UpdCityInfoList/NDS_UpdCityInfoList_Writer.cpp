
////////////////////////////////////////////////////////////////////////////////
//
// All Rights Reserved, Copyright(C),2013
// Licenced Material of by zhaoyiwei
// This file is auto generated by IOLibMaker, Do NOT modify
//
////////////////////////////////////////////////////////////////////////////////
//
// SubSystem: NDS_UpdCityInfoListNDS_UpdCityInfoListのデ`タアクセス用のライブラリ
// Class Name:    NDS_UpdCityInfoListNDS_UpdCityInfoListのきzむ用のクラス
//
////////////////////////////////////////////////////////////////////////////////
#include	"InnerCommon.h"
#include	"NDS_UpdInfo_Struct.h"
#include	"NDS_UpdInfo_OutsideRef.h"
#include	"NDS_UpdInfo_InsideRef.h"
#include	"NDS_UpdInfo_FormatStructure.h"
#include	"NDS_UpdInfo_Writer.h"
#include	"NDS_UpdCityInfoList_Struct.h"
#include	"NDS_UpdCityInfoList_OutsideRef.h"
#include	"NDS_UpdCityInfoList_InsideRef.h"
#include	"NDS_UpdCityInfoList_FormatStructure.h"
#include	"NDS_UpdCityInfoList_Writer.h"


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdCityInfoListNDS_UpdCityInfoListコンストラクタ`
// Detail: NDS_UpdCityInfoListNDS_UpdCityInfoListクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdCityInfoList_Writer::CNDS_UpdCityInfoList_Writer()
{
}

////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdCityInfoListNDS_UpdCityInfoListコンストラクタ`
// Detail: NDS_UpdCityInfoListNDS_UpdCityInfoListクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdCityInfoList_Writer::CNDS_UpdCityInfoList_Writer( SmartPointer<CMyOfstream> &pclStream, SmartPointer<CBaseFormatStructure> &pclFormatStructure )
	: CIOLibBaseWriter( pclStream, pclFormatStructure )
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdCityInfoListNDS_UpdCityInfoListディストラクタ`
// Detail: NDS_UpdCityInfoListNDS_UpdCityInfoListクラスの削除
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdCityInfoList_Writer::~CNDS_UpdCityInfoList_Writer()
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: CreateFormatStructure
// Detail: Create meta data class of format for WriteBack.
// Return:int 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
int CNDS_UpdCityInfoList_Writer::CreateFormatStructure( SmartPointer<CBaseFormatStructure> &spclFormatStructure )
{
	spclFormatStructure.CreateEx( Type2Type<CNDS_UpdCityInfoList_FormatStructure>() );
	if( NULL == m_pclFormatStructure.Get() ) {
		assert( 0 );
		return FAILURE;
	}
	return SUCCESS;
}



////////////////////////////////////////////////////////////////////////////////
//
// Function: Write_NDS_UpdCateInfo
// Detail: 当するフォ`マットのNDS_UpdCateInfoレコ`ドをきzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteNDS_UpdCateInfo( const CNDS_UpdCateInfo &clNDS_UpdCateInfo )
{
	CFormatStructureNotifier	clNotifier( m_pclFormatStructure, StructType_NDS_UpdInfo_NDS_UpdCateInfo );

	NDS_UpdCityInfoList_CountNDS_UpdCateInfo_InsideRefElem( m_pclFormatStructure );

	if( SUCCESS != m_pclStream->Put1bN( clNDS_UpdCateInfo.m_ucCategoryID ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Put4bN( clNDS_UpdCateInfo.m_uiDataSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Put4bN( clNDS_UpdCateInfo.m_uiAppendCount ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Put4bN( clNDS_UpdCateInfo.m_uiDeleteCount ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Put4bN( clNDS_UpdCateInfo.m_uiModifyCount ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Write_NDS_UpdateInfo
// Detail: 当するフォ`マットのNDS_UpdateInfoレコ`ドをきzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteNDS_UpdateInfo( const CNDS_UpdateInfo &clNDS_UpdateInfo )
{
	CFormatStructureNotifier	clNotifier( m_pclFormatStructure, StructType_NDS_UpdInfo_NDS_UpdateInfo );

	CNDS_UpdCityInfoList_NDS_UpdateInfo_InsideRef 	*pclInsideRef	=	NDS_UpdCityInfoList_GetCurNDS_UpdateInfo_InsideRef( m_pclFormatStructure );

	pclInsideRef->m_ullCategoryCnt_DA	=	m_pclStream->GetDA();
	if( SUCCESS != m_pclStream->Put1bN( clNDS_UpdateInfo.m_ucCategoryCnt ) ) {
		assert( 0 );
		return FAILURE;
	}

 uint uiNDS_UpdateInfoUpdInfoList_CUR_NO	= 0;
	for( uiNDS_UpdateInfoUpdInfoList_CUR_NO = 0; uiNDS_UpdateInfoUpdInfoList_CUR_NO < (uint)(clNDS_UpdateInfo.m_vclUpdInfoList.size()); ++uiNDS_UpdateInfoUpdInfoList_CUR_NO ) {
		if( SUCCESS != WriteNDS_UpdCateInfo( clNDS_UpdateInfo.m_vclUpdInfoList[uiNDS_UpdateInfoUpdInfoList_CUR_NO] ) ) {
			assert( 0 );
			return FAILURE;
		}
	}


	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Write_NDS_UpdCityInfo
// Detail: 当するフォ`マットのNDS_UpdCityInfoレコ`ドをきzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteNDS_UpdCityInfo( const CNDS_UpdCityInfo &clNDS_UpdCityInfo )
{
	CFormatStructureNotifier	clNotifier( m_pclFormatStructure, StructType_NDS_UpdCityInfoList_NDS_UpdCityInfo );

	CNDS_UpdCityInfoList_NDS_UpdCityInfo_InsideRef 	*pclInsideRef	=	NDS_UpdCityInfoList_GetCurNDS_UpdCityInfo_InsideRef( m_pclFormatStructure );

	NDS_UpdCityInfoList_CountNDS_UpdCityInfo_InsideRefElem( m_pclFormatStructure );

	if( SUCCESS != m_pclStream->Put4bN( clNDS_UpdCityInfo.m_uiAddrCode ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdateInfo( clNDS_UpdCityInfo.m_clUpdInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Write_NDS_UpdProvinceInfo
// Detail: 当するフォ`マットのNDS_UpdProvinceInfoレコ`ドをきzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteNDS_UpdProvinceInfo( const CNDS_UpdProvinceInfo &clNDS_UpdProvinceInfo )
{
	CFormatStructureNotifier	clNotifier( m_pclFormatStructure, StructType_NDS_UpdCityInfoList_NDS_UpdProvinceInfo );

	CNDS_UpdCityInfoList_NDS_UpdProvinceInfo_InsideRef 	*pclInsideRef	=	NDS_UpdCityInfoList_GetCurNDS_UpdProvinceInfo_InsideRef( m_pclFormatStructure );

	NDS_UpdCityInfoList_CountNDS_UpdProvinceInfo_InsideRefElem( m_pclFormatStructure );

	if( SUCCESS != m_pclStream->Put4bN( clNDS_UpdProvinceInfo.m_uiAddrCode ) ) {
		assert( 0 );
		return FAILURE;
	}

	pclInsideRef->m_ullCityCnt_DA	=	m_pclStream->GetDA();
	if( SUCCESS != m_pclStream->Put2bN( clNDS_UpdProvinceInfo.m_usCityCnt ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdateInfo( clNDS_UpdProvinceInfo.m_clUpdInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdCityInfo( clNDS_UpdProvinceInfo.m_clCityList ) ) {
		assert( 0 );
		return FAILURE;
	}

	pclInsideRef->m_uiCityList_COUNT	=	1;

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Write_NDS_UpdCityInfoListDataFrame
// Detail: 当するフォ`マットのNDS_UpdCityInfoListDataFrameレコ`ドをきzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteNDS_UpdCityInfoListDataFrame( const CNDS_UpdCityInfoListDataFrame &clNDS_UpdCityInfoListDataFrame )
{
	CFormatStructureNotifier	clNotifier( m_pclFormatStructure, StructType_NDS_UpdCityInfoList_NDS_UpdCityInfoListDataFrame );

	CNDS_UpdCityInfoList_NDS_UpdCityInfoListDataFrame_InsideRef 	*pclInsideRef	=	NDS_UpdCityInfoList_GetCurNDS_UpdCityInfoListDataFrame_InsideRef( m_pclFormatStructure );

	if( SUCCESS != m_pclStream->Put2bN( clNDS_UpdCityInfoListDataFrame.m_usVersion ) ) {
		assert( 0 );
		return FAILURE;
	}

	pclInsideRef->m_ullProvinceCnt_DA	=	m_pclStream->GetDA();
	if( SUCCESS != m_pclStream->Put2bN( clNDS_UpdCityInfoListDataFrame.m_usProvinceCnt ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdateInfo( clNDS_UpdCityInfoListDataFrame.m_clUpdInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdProvinceInfo( clNDS_UpdCityInfoListDataFrame.m_clProvinceList ) ) {
		assert( 0 );
		return FAILURE;
	}

	pclInsideRef->m_uiProvinceList_COUNT	=	1;

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Write_NDS_UpdRegionInfo
// Detail: 当するフォ`マットのNDS_UpdRegionInfoレコ`ドをきzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteNDS_UpdRegionInfo( const CNDS_UpdRegionInfo &clNDS_UpdRegionInfo )
{
	CFormatStructureNotifier	clNotifier( m_pclFormatStructure, StructType_NDS_UpdInfo_NDS_UpdRegionInfo );

	CNDS_UpdCityInfoList_NDS_UpdRegionInfo_InsideRef 	*pclInsideRef	=	NDS_UpdCityInfoList_GetCurNDS_UpdRegionInfo_InsideRef( m_pclFormatStructure );

	if( SUCCESS != m_pclStream->Put2bN( clNDS_UpdRegionInfo.m_usVersion ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdateInfo( clNDS_UpdRegionInfo.m_clUpdateInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: CalcSize_NDS_UpdCateInfo
// Detail: NDS_UpdCateInfoをきzむSizeを算する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
uint64 CNDS_UpdCityInfoList_Writer::CalSizeNDS_UpdCateInfo( const CNDS_UpdCateInfo &clNDS_UpdCateInfo )
{
	uint64	ullResultSize	=	0;
	ullResultSize	+=	CMyOfstream::CalSize1bN( clNDS_UpdCateInfo.m_ucCategoryID );

	ullResultSize	+=	CMyOfstream::CalSize4bN( clNDS_UpdCateInfo.m_uiDataSize );

	ullResultSize	+=	CMyOfstream::CalSize4bN( clNDS_UpdCateInfo.m_uiAppendCount );

	ullResultSize	+=	CMyOfstream::CalSize4bN( clNDS_UpdCateInfo.m_uiDeleteCount );

	ullResultSize	+=	CMyOfstream::CalSize4bN( clNDS_UpdCateInfo.m_uiModifyCount );

	return ullResultSize;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: CalcSize_NDS_UpdateInfo
// Detail: NDS_UpdateInfoをきzむSizeを算する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
uint64 CNDS_UpdCityInfoList_Writer::CalSizeNDS_UpdateInfo( const CNDS_UpdateInfo &clNDS_UpdateInfo )
{
	uint64	ullResultSize	=	0;
	ullResultSize	+=	CMyOfstream::CalSize1bN( clNDS_UpdateInfo.m_ucCategoryCnt );

 uint uiNDS_UpdateInfoUpdInfoList_CUR_NO	= 0;
	for( uiNDS_UpdateInfoUpdInfoList_CUR_NO = 0; uiNDS_UpdateInfoUpdInfoList_CUR_NO < (uint)(clNDS_UpdateInfo.m_vclUpdInfoList.size()); ++uiNDS_UpdateInfoUpdInfoList_CUR_NO ) {
		ullResultSize	+=	CalSizeNDS_UpdCateInfo( clNDS_UpdateInfo.m_vclUpdInfoList[uiNDS_UpdateInfoUpdInfoList_CUR_NO] );
	}

	return ullResultSize;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: CalcSize_NDS_UpdCityInfo
// Detail: NDS_UpdCityInfoをきzむSizeを算する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
uint64 CNDS_UpdCityInfoList_Writer::CalSizeNDS_UpdCityInfo( const CNDS_UpdCityInfo &clNDS_UpdCityInfo )
{
	uint64	ullResultSize	=	0;
	ullResultSize	+=	CMyOfstream::CalSize4bN( clNDS_UpdCityInfo.m_uiAddrCode );

	ullResultSize	+=	CalSizeNDS_UpdateInfo( clNDS_UpdCityInfo.m_clUpdInfo );

	return ullResultSize;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: CalcSize_NDS_UpdProvinceInfo
// Detail: NDS_UpdProvinceInfoをきzむSizeを算する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
uint64 CNDS_UpdCityInfoList_Writer::CalSizeNDS_UpdProvinceInfo( const CNDS_UpdProvinceInfo &clNDS_UpdProvinceInfo )
{
	uint64	ullResultSize	=	0;
	ullResultSize	+=	CMyOfstream::CalSize4bN( clNDS_UpdProvinceInfo.m_uiAddrCode );

	ullResultSize	+=	CMyOfstream::CalSize2bN( clNDS_UpdProvinceInfo.m_usCityCnt );

	ullResultSize	+=	CalSizeNDS_UpdateInfo( clNDS_UpdProvinceInfo.m_clUpdInfo );

	ullResultSize	+=	CalSizeNDS_UpdCityInfo( clNDS_UpdProvinceInfo.m_clCityList );

	return ullResultSize;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: CalcSize_NDS_UpdCityInfoListDataFrame
// Detail: NDS_UpdCityInfoListDataFrameをきzむSizeを算する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
uint64 CNDS_UpdCityInfoList_Writer::CalSizeNDS_UpdCityInfoListDataFrame( const CNDS_UpdCityInfoListDataFrame &clNDS_UpdCityInfoListDataFrame )
{
	uint64	ullResultSize	=	0;
	ullResultSize	+=	CMyOfstream::CalSize2bN( clNDS_UpdCityInfoListDataFrame.m_usVersion );

	ullResultSize	+=	CMyOfstream::CalSize2bN( clNDS_UpdCityInfoListDataFrame.m_usProvinceCnt );

	ullResultSize	+=	CalSizeNDS_UpdateInfo( clNDS_UpdCityInfoListDataFrame.m_clUpdInfo );

	ullResultSize	+=	CalSizeNDS_UpdProvinceInfo( clNDS_UpdCityInfoListDataFrame.m_clProvinceList );

	return ullResultSize;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: CalcSize_NDS_UpdRegionInfo
// Detail: NDS_UpdRegionInfoをきzむSizeを算する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
uint64 CNDS_UpdCityInfoList_Writer::CalSizeNDS_UpdRegionInfo( const CNDS_UpdRegionInfo &clNDS_UpdRegionInfo )
{
	uint64	ullResultSize	=	0;
	ullResultSize	+=	CMyOfstream::CalSize2bN( clNDS_UpdRegionInfo.m_usVersion );

	ullResultSize	+=	CalSizeNDS_UpdateInfo( clNDS_UpdRegionInfo.m_clUpdateInfo );

	return ullResultSize;
}

////////////////////////////////////////////////////////////////////////////////
//
// Function: SolveInsideRef
// Detail: 当するフォ`マットの中のvS(offsetと数など)ををすべてWriteBack
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////

int CNDS_UpdCityInfoList_Writer::SolveInsideRef()
{
	CNDS_UpdCityInfoList_NDS_UpdCityInfoListDataFrame_InsideRef		&clNDS_UpdCityInfoListDataFrame	=	((CNDS_UpdCityInfoList_FormatStructure*)m_pclFormatStructure.Get())->GetInsideRefInfo();
	if( SUCCESS != SolveNDS_UpdCityInfoListDataFrameInsideRef( clNDS_UpdCityInfoListDataFrame ) ) {
		assert( 0 );
		return FAILURE;
	}
	{
		CNDS_UpdCityInfoList_NDS_UpdateInfo_InsideRef	&clNDS_UpdCityInfoListDataFrameUpdInfo	=	clNDS_UpdCityInfoListDataFrame.m_clUpdInfo;
		if( SUCCESS != SolveNDS_UpdateInfoInsideRef( clNDS_UpdCityInfoListDataFrameUpdInfo ) ) {
			assert( 0 );
			return FAILURE;
		}
	}
	{
		CNDS_UpdCityInfoList_NDS_UpdProvinceInfo_InsideRef	&clNDS_UpdCityInfoListDataFrameProvinceList	=	clNDS_UpdCityInfoListDataFrame.m_clProvinceList;
		if( SUCCESS != SolveNDS_UpdProvinceInfoInsideRef( clNDS_UpdCityInfoListDataFrameProvinceList ) ) {
			assert( 0 );
			return FAILURE;
		}
		{
			CNDS_UpdCityInfoList_NDS_UpdateInfo_InsideRef	&clNDS_UpdProvinceInfoUpdInfo	=	clNDS_UpdCityInfoListDataFrameProvinceList.m_clUpdInfo;
			if( SUCCESS != SolveNDS_UpdateInfoInsideRef( clNDS_UpdProvinceInfoUpdInfo ) ) {
				assert( 0 );
				return FAILURE;
			}
		}
		{
			CNDS_UpdCityInfoList_NDS_UpdCityInfo_InsideRef	&clNDS_UpdProvinceInfoCityList	=	clNDS_UpdCityInfoListDataFrameProvinceList.m_clCityList;
			{
				CNDS_UpdCityInfoList_NDS_UpdateInfo_InsideRef	&clNDS_UpdCityInfoUpdInfo	=	clNDS_UpdProvinceInfoCityList.m_clUpdInfo;
				if( SUCCESS != SolveNDS_UpdateInfoInsideRef( clNDS_UpdCityInfoUpdInfo ) ) {
					assert( 0 );
					return FAILURE;
				}
			}
		}
	}
	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: WriteAll
// Detail: 当するファイルをすべてiみzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteAll( const tchar *ptcFileName, const CNDS_UpdCityInfoListDataFrame &clNDS_UpdCityInfoListDataFrame )
{
	if( SUCCESS != Initialize( ptcFileName ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdCityInfoListDataFrame( clNDS_UpdCityInfoListDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != SolveInsideRef() ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: WriteAll
// Detail: 当するファイルをすべてiみzむ
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Writer::WriteAll( const CNDS_UpdCityInfoListDataFrame &clNDS_UpdCityInfoListDataFrame )
{
	if( SUCCESS != Initialize() ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != WriteNDS_UpdCityInfoListDataFrame( clNDS_UpdCityInfoListDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != SolveInsideRef() ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}

////////////////////////////////////////////////////////////////////////////////
//
// Function: SolveNDS_UpdateInfoInsideRef
// Detail: NDS_UpdateInfoレコ`ドの中のvS(offsetと数など)をWriteBack
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////

int CNDS_UpdCityInfoList_Writer::SolveNDS_UpdateInfoInsideRef( CNDS_UpdCityInfoList_NDS_UpdateInfo_InsideRef &clNDS_UpdateInfo )
{
	if( 0xFFFFFFFFFFFFFFFF != clNDS_UpdateInfo.m_ullCategoryCnt_DA ) {
		m_pclStream->SetDA( clNDS_UpdateInfo.m_ullCategoryCnt_DA );
		if( SUCCESS != m_pclStream->Put1bN( clNDS_UpdateInfo.m_uiUpdInfoList_COUNT ) ) {
			assert( 0 );
			return FAILURE;
		}
	}
	return SUCCESS;
}

////////////////////////////////////////////////////////////////////////////////
//
// Function: SolveNDS_UpdCityInfoListDataFrameInsideRef
// Detail: NDS_UpdCityInfoListDataFrameレコ`ドの中のvS(offsetと数など)をWriteBack
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////

int CNDS_UpdCityInfoList_Writer::SolveNDS_UpdCityInfoListDataFrameInsideRef( CNDS_UpdCityInfoList_NDS_UpdCityInfoListDataFrame_InsideRef &clNDS_UpdCityInfoListDataFrame )
{
	if( 0xFFFFFFFFFFFFFFFF != clNDS_UpdCityInfoListDataFrame.m_ullProvinceCnt_DA ) {
		m_pclStream->SetDA( clNDS_UpdCityInfoListDataFrame.m_ullProvinceCnt_DA );
		if( SUCCESS != m_pclStream->Put2bN( clNDS_UpdCityInfoListDataFrame.m_uiProvinceList_COUNT ) ) {
			assert( 0 );
			return FAILURE;
		}
	}
	return SUCCESS;
}

////////////////////////////////////////////////////////////////////////////////
//
// Function: SolveNDS_UpdProvinceInfoInsideRef
// Detail: NDS_UpdProvinceInfoレコ`ドの中のvS(offsetと数など)をWriteBack
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////

int CNDS_UpdCityInfoList_Writer::SolveNDS_UpdProvinceInfoInsideRef( CNDS_UpdCityInfoList_NDS_UpdProvinceInfo_InsideRef &clNDS_UpdProvinceInfo )
{
	if( 0xFFFFFFFFFFFFFFFF != clNDS_UpdProvinceInfo.m_ullCityCnt_DA ) {
		m_pclStream->SetDA( clNDS_UpdProvinceInfo.m_ullCityCnt_DA );
		if( SUCCESS != m_pclStream->Put2bN( clNDS_UpdProvinceInfo.m_uiCityList_COUNT ) ) {
			assert( 0 );
			return FAILURE;
		}
	}
	return SUCCESS;
}
