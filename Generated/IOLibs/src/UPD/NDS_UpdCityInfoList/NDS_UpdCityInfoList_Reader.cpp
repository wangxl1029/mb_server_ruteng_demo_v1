
////////////////////////////////////////////////////////////////////////////////
//
// All Rights Reserved, Copyright(C),2013
// Licenced Material of by zhaoyiwei
// This file is auto generated by IOLibMaker, Do NOT modify
//
////////////////////////////////////////////////////////////////////////////////
//
// SubSystem: NDS_UpdCityInfoListNDS_UpdCityInfoListのデ`タアクセス用のライブラリ
// Class Name:    NDS_UpdCityInfoListNDS_UpdCityInfoListのiみzむ用のクラス
//
////////////////////////////////////////////////////////////////////////////////
#include	"InnerCommon.h"
#include	"NDS_UpdInfo_Struct.h"
#include	"NDS_UpdInfo_Reader.h"
#include	"NDS_UpdCityInfoList_Struct.h"
#include	"NDS_UpdCityInfoList_Reader.h"


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdCityInfoListNDS_UpdCityInfoListコンストラクタ`
// Detail: NDS_UpdCityInfoListNDS_UpdCityInfoListクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdCityInfoList_Reader::CNDS_UpdCityInfoList_Reader()
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdCityInfoListNDS_UpdCityInfoListコンストラクタ`
// Detail: NDS_UpdCityInfoListNDS_UpdCityInfoListクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdCityInfoList_Reader::CNDS_UpdCityInfoList_Reader( SmartPointer<CMyIfstream> &pclStream )
	: CIOLibBaseReader( pclStream )
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdCityInfoListNDS_UpdCityInfoListディストラクタ`
// Detail: NDS_UpdCityInfoListNDS_UpdCityInfoListクラスの削除
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdCityInfoList_Reader::~CNDS_UpdCityInfoList_Reader()
{
}



////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdCateInfo
// Detail: Read A NDS_UpdCateInfo Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Reader::ReadNDS_UpdCateInfo( CNDS_UpdCateInfo &clNDS_UpdCateInfo )
{
	if( SUCCESS != m_pclStream->Get1bN( clNDS_UpdCateInfo.m_ucCategoryID ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdCateInfo.m_uiDataSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdCateInfo.m_uiAppendCount ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdCateInfo.m_uiDeleteCount ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdCateInfo.m_uiModifyCount ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdateInfo
// Detail: Read A NDS_UpdateInfo Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Reader::ReadNDS_UpdateInfo( CNDS_UpdateInfo &clNDS_UpdateInfo )
{
	if( SUCCESS != m_pclStream->Get1bN( clNDS_UpdateInfo.m_ucCategoryCnt ) ) {
		assert( 0 );
		return FAILURE;
	}

	clNDS_UpdateInfo.m_vclUpdInfoList.resize( clNDS_UpdateInfo.m_ucCategoryCnt );
	uint uiNDS_UpdateInfoUpdInfoList_CUR_NO = 0;
	for( uiNDS_UpdateInfoUpdInfoList_CUR_NO = 0; uiNDS_UpdateInfoUpdInfoList_CUR_NO < (uint)(clNDS_UpdateInfo.m_vclUpdInfoList.size()); ++uiNDS_UpdateInfoUpdInfoList_CUR_NO ) {
		if( SUCCESS != ReadNDS_UpdCateInfo( clNDS_UpdateInfo.m_vclUpdInfoList[uiNDS_UpdateInfoUpdInfoList_CUR_NO] ) ) {
			assert( 0 );
			return FAILURE;
		}
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdCityInfo
// Detail: Read A NDS_UpdCityInfo Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Reader::ReadNDS_UpdCityInfo( CNDS_UpdCityInfo &clNDS_UpdCityInfo )
{
	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdCityInfo.m_uiAddrCode ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdateInfo( clNDS_UpdCityInfo.m_clUpdInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdProvinceInfo
// Detail: Read A NDS_UpdProvinceInfo Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Reader::ReadNDS_UpdProvinceInfo( CNDS_UpdProvinceInfo &clNDS_UpdProvinceInfo )
{
	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdProvinceInfo.m_uiAddrCode ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get2bN( clNDS_UpdProvinceInfo.m_usCityCnt ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdateInfo( clNDS_UpdProvinceInfo.m_clUpdInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdCityInfo( clNDS_UpdProvinceInfo.m_clCityList ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdCityInfoListDataFrame
// Detail: Read A NDS_UpdCityInfoListDataFrame Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Reader::ReadNDS_UpdCityInfoListDataFrame( CNDS_UpdCityInfoListDataFrame &clNDS_UpdCityInfoListDataFrame )
{
	if( SUCCESS != m_pclStream->Get2bN( clNDS_UpdCityInfoListDataFrame.m_usVersion ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get2bN( clNDS_UpdCityInfoListDataFrame.m_usProvinceCnt ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdateInfo( clNDS_UpdCityInfoListDataFrame.m_clUpdInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdProvinceInfo( clNDS_UpdCityInfoListDataFrame.m_clProvinceList ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdRegionInfo
// Detail: Read A NDS_UpdRegionInfo Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Reader::ReadNDS_UpdRegionInfo( CNDS_UpdRegionInfo &clNDS_UpdRegionInfo )
{
	if( SUCCESS != m_pclStream->Get2bN( clNDS_UpdRegionInfo.m_usVersion ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdateInfo( clNDS_UpdRegionInfo.m_clUpdateInfo ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: ReadAll
// Detail: Read whole file
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdCityInfoList_Reader::ReadAll( const tchar *ptcFileName, CNDS_UpdCityInfoListDataFrame &clNDS_UpdCityInfoListDataFrame )
{
	if( SUCCESS != Initialize( ptcFileName ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdCityInfoListDataFrame( clNDS_UpdCityInfoListDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}

long CNDS_UpdCityInfoList_Reader::ReadAll( const char *pcBuf, uint64 ullSize, CNDS_UpdCityInfoListDataFrame &clNDS_UpdCityInfoListDataFrame )
{
	if( SUCCESS != Initialize( pcBuf, ullSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdCityInfoListDataFrame( clNDS_UpdCityInfoListDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}
