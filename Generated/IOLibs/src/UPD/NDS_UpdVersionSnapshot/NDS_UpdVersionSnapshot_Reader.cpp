
////////////////////////////////////////////////////////////////////////////////
//
// All Rights Reserved, Copyright(C),2013
// Licenced Material of by zhaoyiwei
// This file is auto generated by IOLibMaker, Do NOT modify
//
////////////////////////////////////////////////////////////////////////////////
//
// SubSystem: NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotのデ`タアクセス用のライブラリ
// Class Name:    NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotのiみzむ用のクラス
//
////////////////////////////////////////////////////////////////////////////////
#include	"InnerCommon.h"
#include	"NDS_UpdVersionSnapshot_Struct.h"
#include	"NDS_UpdVersionSnapshot_Reader.h"


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotコンストラクタ`
// Detail: NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdVersionSnapshot_Reader::CNDS_UpdVersionSnapshot_Reader()
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotコンストラクタ`
// Detail: NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdVersionSnapshot_Reader::CNDS_UpdVersionSnapshot_Reader( SmartPointer<CMyIfstream> &pclStream )
	: CIOLibBaseReader( pclStream )
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotディストラクタ`
// Detail: NDS_UpdVersionSnapshotNDS_UpdVersionSnapshotクラスの削除
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdVersionSnapshot_Reader::~CNDS_UpdVersionSnapshot_Reader()
{
}



////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdVSID4
// Detail: Read A NDS_UpdVSID4 Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdVersionSnapshot_Reader::ReadNDS_UpdVSID4( CNDS_UpdVSID4 &clNDS_UpdVSID4 )
{
	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdVSID4.m_uiID ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get2bN( clNDS_UpdVSID4.m_usVersionId ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdVSID4List
// Detail: Read A NDS_UpdVSID4List Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdVersionSnapshot_Reader::ReadNDS_UpdVSID4List( CNDS_UpdVSID4List &clNDS_UpdVSID4List )
{
	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdVSID4List.m_uiIDCnt ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVSID4( clNDS_UpdVSID4List.m_clIDList ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdVersionSnapshotDataFrame
// Detail: Read A NDS_UpdVersionSnapshotDataFrame Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdVersionSnapshot_Reader::ReadNDS_UpdVersionSnapshotDataFrame( CNDS_UpdVersionSnapshotDataFrame &clNDS_UpdVersionSnapshotDataFrame )
{
	if( SUCCESS != m_pclStream->Get2bN( clNDS_UpdVersionSnapshotDataFrame.m_usCRC ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVSID4List( clNDS_UpdVersionSnapshotDataFrame.m_clBmdTile ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVSID4List( clNDS_UpdVersionSnapshotDataFrame.m_clBmdIcon ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVSID4List( clNDS_UpdVersionSnapshotDataFrame.m_clRoutingTile ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVSID4List( clNDS_UpdVersionSnapshotDataFrame.m_clRoutingIcon ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVSID4List( clNDS_UpdVersionSnapshotDataFrame.m_clNamedObject ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: ReadAll
// Detail: Read whole file
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdVersionSnapshot_Reader::ReadAll( const tchar *ptcFileName, CNDS_UpdVersionSnapshotDataFrame &clNDS_UpdVersionSnapshotDataFrame )
{
	if( SUCCESS != Initialize( ptcFileName ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVersionSnapshotDataFrame( clNDS_UpdVersionSnapshotDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}

long CNDS_UpdVersionSnapshot_Reader::ReadAll( const char *pcBuf, uint64 ullSize, CNDS_UpdVersionSnapshotDataFrame &clNDS_UpdVersionSnapshotDataFrame )
{
	if( SUCCESS != Initialize( pcBuf, ullSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVersionSnapshotDataFrame( clNDS_UpdVersionSnapshotDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}
