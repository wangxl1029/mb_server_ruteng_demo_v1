
////////////////////////////////////////////////////////////////////////////////
//
// All Rights Reserved, Copyright(C),2013
// Licenced Material of by zhaoyiwei
// This file is auto generated by IOLibMaker, Do NOT modify
//
////////////////////////////////////////////////////////////////////////////////
//
// SubSystem: NDS_UpdVersionInfoNDS_UpdVersionInfoのデ`タアクセス用のライブラリ
// Class Name:    NDS_UpdVersionInfoNDS_UpdVersionInfoのiみzむ用のクラス
//
////////////////////////////////////////////////////////////////////////////////
#include	"InnerCommon.h"
#include	"NDS_UpdVersionInfo_Struct.h"
#include	"NDS_UpdVersionInfo_Reader.h"


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdVersionInfoNDS_UpdVersionInfoコンストラクタ`
// Detail: NDS_UpdVersionInfoNDS_UpdVersionInfoクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdVersionInfo_Reader::CNDS_UpdVersionInfo_Reader()
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdVersionInfoNDS_UpdVersionInfoコンストラクタ`
// Detail: NDS_UpdVersionInfoNDS_UpdVersionInfoクラスの初期化
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdVersionInfo_Reader::CNDS_UpdVersionInfo_Reader( SmartPointer<CMyIfstream> &pclStream )
	: CIOLibBaseReader( pclStream )
{
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdVersionInfoNDS_UpdVersionInfoディストラクタ`
// Detail: NDS_UpdVersionInfoNDS_UpdVersionInfoクラスの削除
// Return:None
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdVersionInfo_Reader::~CNDS_UpdVersionInfo_Reader()
{
}



////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdVerInfoText
// Detail: Read A NDS_UpdVerInfoText Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdVersionInfo_Reader::ReadNDS_UpdVerInfoText( CNDS_UpdVerInfoText &clNDS_UpdVerInfoText )
{
	if( SUCCESS != m_pclStream->Get2bN( clNDS_UpdVerInfoText.m_usSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->GetMBCString( clNDS_UpdVerInfoText.m_strText, clNDS_UpdVerInfoText.m_usSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Read_NDS_UpdVersionInfoDataFrame
// Detail: Read A NDS_UpdVersionInfoDataFrame Record
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdVersionInfo_Reader::ReadNDS_UpdVersionInfoDataFrame( CNDS_UpdVersionInfoDataFrame &clNDS_UpdVersionInfoDataFrame )
{
	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdVersionInfoDataFrame.m_uiFileSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get4bN( clNDS_UpdVersionInfoDataFrame.m_uiCrc ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != m_pclStream->Get2bI( clNDS_UpdVersionInfoDataFrame.m_sVersionId ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVerInfoText( clNDS_UpdVersionInfoDataFrame.m_clVersionDescrip ) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: ReadAll
// Detail: Read whole file
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
long CNDS_UpdVersionInfo_Reader::ReadAll( const tchar *ptcFileName, CNDS_UpdVersionInfoDataFrame &clNDS_UpdVersionInfoDataFrame )
{
	if( SUCCESS != Initialize( ptcFileName ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVersionInfoDataFrame( clNDS_UpdVersionInfoDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}

long CNDS_UpdVersionInfo_Reader::ReadAll( const char *pcBuf, uint64 ullSize, CNDS_UpdVersionInfoDataFrame &clNDS_UpdVersionInfoDataFrame )
{
	if( SUCCESS != Initialize( pcBuf, ullSize ) ) {
		assert( 0 );
		return FAILURE;
	}

	if( SUCCESS != ReadNDS_UpdVersionInfoDataFrame( clNDS_UpdVersionInfoDataFrame) ) {
		assert( 0 );
		return FAILURE;
	}

	return SUCCESS;
}
