
////////////////////////////////////////////////////////////////////////////////
//
// All Rights Reserved, Copyright(C),2013
// Licenced Material of by zhaoyiwei
// This file is auto generated by IOLibMaker, Do NOT modify
//
////////////////////////////////////////////////////////////////////////////////
//
// SubSystem: NDS_UpdInfoNDS_UpdInfoのデ`タアクセス用のライブラリ
// Class Name:    NDS_UpdInfoNDS_UpdInfoのWriteBack用のクラス
//
////////////////////////////////////////////////////////////////////////////////
#include	"InnerCommon.h"
#include	"NDS_UpdInfo_Struct.h"
#include	"NDS_UpdInfo_OutsideRef.h"
#include	"NDS_UpdInfo_InsideRef.h"
#include	"NDS_UpdInfo_FormatStructure.h"

const IOLib_StructType StructType_NDS_UpdInfo_NDS_UpdCateInfo					=	_T("NDS_UpdCateInfo");
const IOLib_StructType StructType_NDS_UpdInfo_NDS_UpdateInfo					=	_T("NDS_UpdateInfo");
const IOLib_StructType StructType_NDS_UpdInfo_NDS_UpdRegionInfo					=	_T("NDS_UpdRegionInfo");


////////////////////////////////////////////////////////////////////////////////
//
// Function: CountInsideRefElem
// Detail: デ`タをきzむと同rに、内部vSをWriteBackする用の情(数)を更新する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
void CNDS_UpdInfo_NDS_UpdateInfo_UpdInfoList_FormatNode::CountInsideRefElem()
{
	if( StructType_NDS_UpdInfo_NDS_UpdateInfo != m_pclParent->m_enType ) {
		assert( 0 );
		return;
	}
	CNDS_UpdInfo_NDS_UpdateInfo_InsideRef	*pclParent	=	(CNDS_UpdInfo_NDS_UpdateInfo_InsideRef*)(m_pclParent->GetCurInsideRefElem());
	if( NULL == pclParent ) {
		assert( 0 );
		return;
	}
	++pclParent->m_uiUpdInfoList_COUNT;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: GetCurInsideRefElem
// Detail: デ`タをきzむと同rに、内部vSをWriteBackする用の情(MetaData)のPointerを取得する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
void* CNDS_UpdInfo_NDS_UpdRegionInfo_UpdateInfo_FormatNode::GetCurInsideRefElem()
{
	if( NULL != m_pvCurInsideRefElem ) {
		return m_pvCurInsideRefElem;
	} else {
		if( StructType_NDS_UpdInfo_NDS_UpdRegionInfo != m_pclParent->m_enType ) {
			assert( 0 );
			return NULL;
		}
		CNDS_UpdInfo_NDS_UpdRegionInfo_InsideRef	*pclParent	=	(CNDS_UpdInfo_NDS_UpdRegionInfo_InsideRef*)(m_pclParent->GetCurInsideRefElem());
		if( NULL == pclParent ) {
			assert( 0 );
			return NULL;
		}
		m_pvCurInsideRefElem	=	(void*)(&(pclParent->m_clUpdateInfo));
		++m_ulRecCount;
		return m_pvCurInsideRefElem;
	}
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: GetRootInsideRefElem
// Detail: 内部vS用のフォ`マットツリ`(MetaData)のル`トノ`ドを取得する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
void* CRoot_NDS_UpdRegionInfo_FormatNode::GetCurInsideRefElem()
{
	if( NULL == m_pclFormatStructure ) {
		return NULL;
	}
	return m_pclFormatStructure->GetRootInsideRefElem();
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: Initialize
// Detail: 内部vSをWriteBackする用の情(MetaData)の初期化
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
int CNDS_UpdInfo_FormatStructure::Initialize()
{
	m_pclRootNode						=	new CRoot_NDS_UpdRegionInfo_FormatNode( this );

	CBaseNode	*pclCurNode		=	m_pclRootNode;

	if( SUCCESS != pclCurNode->AddSub( new CNDS_UpdInfo_NDS_UpdRegionInfo_UpdateInfo_FormatNode() ) ) {
		assert( 0 );
		return FAILURE;
	}
	pclCurNode	=	pclCurNode->m_vpclSub.back();
	if( SUCCESS != pclCurNode->AddSub( new CNDS_UpdInfo_NDS_UpdateInfo_UpdInfoList_FormatNode() ) ) {
		assert( 0 );
		return FAILURE;
	}
	pclCurNode	=	pclCurNode->m_vpclSub.back();
	pclCurNode	=	pclCurNode->m_pclParent;
	pclCurNode	=	pclCurNode->m_pclParent;

#ifdef	_DEBUG
	Print( m_pclRootNode, 0 );
#endif

	return SUCCESS;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: GetRootInsideRefElem
// Detail: 内部vS用のフォ`マットツリ`(MetaData)のル`トノ`ドを取得する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
void* CNDS_UpdInfo_FormatStructure::GetRootInsideRefElem()
{
	return (void*)&GetInsideRefInfo();
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: GetInsideRefInfo
// Detail: 内部vS用のフォ`マットツリ`(MetaData)のル`トノ`ドを取得する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdInfo_NDS_UpdRegionInfo_InsideRef& CNDS_UpdInfo_FormatStructure::GetInsideRefInfo()
{
	return m_clNDS_UpdRegionInfo_InsideRef;
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdInfoGetCurNDS_UpdateInfo_InsideRef
// Detail: 内部vS用のフォ`マットツリ`(MetaData)のノ`ドを取得する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdInfo_NDS_UpdateInfo_InsideRef* NDS_UpdInfo_GetCurNDS_UpdateInfo_InsideRef( CBaseFormatStructure *pclFormatStructure )
{
	CBaseNode	*pclCurNode	=	pclFormatStructure->GetCurNode();
	if( NULL == pclCurNode ) {
		assert( 0 );
		return NULL;
	}
	if( StructType_NDS_UpdInfo_NDS_UpdateInfo != pclCurNode->m_enType ) {
		assert( 0 );
		return NULL;
	}
	return (CNDS_UpdInfo_NDS_UpdateInfo_InsideRef*)(pclCurNode->GetCurInsideRefElem());
}


////////////////////////////////////////////////////////////////////////////////
//
// Function: NDS_UpdInfoGetCurNDS_UpdRegionInfo_InsideRef
// Detail: 内部vS用のフォ`マットツリ`(MetaData)のノ`ドを取得する
// Return:long 型
//               SUCCESS  : (Succeeded)             
//               FAILURE : (Failed)
////////////////////////////////////////////////////////////////////////////////
CNDS_UpdInfo_NDS_UpdRegionInfo_InsideRef* NDS_UpdInfo_GetCurNDS_UpdRegionInfo_InsideRef( CBaseFormatStructure *pclFormatStructure )
{
	CBaseNode	*pclCurNode	=	pclFormatStructure->GetCurNode();
	if( NULL == pclCurNode ) {
		assert( 0 );
		return NULL;
	}
	if( StructType_NDS_UpdInfo_NDS_UpdRegionInfo != pclCurNode->m_enType ) {
		assert( 0 );
		return NULL;
	}
	return (CNDS_UpdInfo_NDS_UpdRegionInfo_InsideRef*)(pclCurNode->GetCurInsideRefElem());
}

void NDS_UpdInfo_CountNDS_UpdCateInfo_InsideRefElem( CBaseFormatStructure *pclFormatStructure )
{
	CBaseNode	*pclCurNode	=	pclFormatStructure->GetCurNode();
	if( NULL == pclCurNode ) {
		assert( 0 );
		return;
	}
	if( StructType_NDS_UpdInfo_NDS_UpdCateInfo != pclCurNode->m_enType ) {
		assert( 0 );
		return;
	}
	pclCurNode->CountInsideRefElem();
}

